<div class="container">
	<div class="row">
		<div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
			<article>
				<p><a href="/blog">&larr; back to the blog</a></p>
				<hr>
				<header>
					<h1>{{data.post.title}}</h1>
					<h5>
						{{{categoryList data.post.categories prefix="Posted in "}}}
						{{#if author.name.first}}by {{author.name.first}}{{/if}}
					</h5>
				</header>
				<div class="post">
					{{#if data.post.image}}<img src="{{{cloudinaryUrl data.post.image width=750 height=450 crop='fit' }}}" class="img-responsive">{{/if}}
					{{{data.post.content.extended}}}
				</div>
				<hr>
				<div>
					<form id="comments" action="">Comments Form</form>
					comments-thread
				</div>
			</article>
		</div>
	</div>
</div>

<script>
	jQuery(function ($) {
		var comments = $('#comments');
		var input = $('.comment-field-input');
		var submit = comments.find('button[type=submit]');

		// Scroll to comments and focus input field
		$('[href="#comments"]').click(function scrollToComments(e) {
			e.preventDefault();

			$('html, body').animate({ scrollTop: comments.offset().top }, 250);

			input.eq(0).focus();
		});

		// Check if field has content: enable/disable submit. Disable by default
		submit.attr('disabled', 'disabled');
		input.keyup(function () {
			if ($.trim($(this).val())) {
				submit.removeAttr('disabled');
			} else {
				submit.attr('disabled', 'disabled');
			}
		});
	});
</script>
